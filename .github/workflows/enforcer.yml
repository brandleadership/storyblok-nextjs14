name: 'branch-check'

on:
    pull_request:
        branches: [main]

jobs:
    check_branch:
        if: contains(fromJson('["master", "main"]'), github.base_ref) && github.head_ref != 'develop'
        runs-on: ubuntu-latest
        steps:
            - name: Stop merging
              run: |
                  echo github.base_ref
                  echo "ERROR: You can only merge to main from develop."
                  exit 1
